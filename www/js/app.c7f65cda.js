(function(t){function e(e){for(var a,i,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(m.length)m.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var l=s[o];0!==r[l]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"03fa":function(t,e,s){"use strict";var a=s("e497"),r=s.n(a);r.a},"08f1":function(t,e,s){"use strict";var a=s("aa49"),r=s.n(a);r.a},"0ab6":function(t,e,s){},"19a4":function(t,e,s){t.exports=s.p+"img/student.25fd2786.png"},"1a53":function(t,e,s){},"1bd5":function(t,e,s){t.exports=s.p+"img/kick.f5d7f2d7.png"},2285:function(t,e,s){},"2c13":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("navbar"),s("router-view")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-black"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Home"}}},["Home"==t.$route.name?a("img",{staticClass:"big-icon",attrs:{src:s("a870"),alt:"ATA logo"}}):a("img",{staticClass:"big-icon",attrs:{src:s("cf05")}})]),t._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarText"}},[a("ul",{staticClass:"navbar-nav mr-auto float-right text-right"},[a("li",{staticClass:"nav-item",class:{active:"Home"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Home"}}},[t._v("Home")])],1),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Dashboard"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Dashboard"}}},[t._v("Dashboard")])],1):t._e(),t.$auth.isAuthenticated?a("li",{staticClass:"nav-item",class:{active:"Store"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Store"}}},[t._v("Store")])],1):t._e(),t.$auth.isAuthenticated&&1==this.profile.admin?a("li",{staticClass:"nav-item",class:{active:"Admin"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Admin"}}},[t._v("Admin Page")])],1):t._e(),t.$auth.isAuthenticated&&1==this.profile.instructor?a("li",{staticClass:"nav-item",class:{active:"Instructor"==t.$route.name}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"Instructor"}}},[t._v("Instructor Page")])],1):t._e()]),a("div",[t.$auth.isAuthenticated?t._e():a("button",{staticClass:"btn btn-success nav-item",on:{click:t.login}},[t._v("Login")]),t.$auth.isAuthenticated?a("button",{staticClass:"btn btn-danger nav-item",on:{click:t.logout}},[t._v("logout")]):t._e()])])],1)},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],l=s("bc3a"),c=s.n(l),d=s("335d"),u={name:"Navbar",computed:{profile(){return this.$store.state.profile}},methods:{async login(){await this.$auth.loginWithPopup(),this.$store.dispatch("setBearer",this.$auth.bearer),console.log("this.$auth.user: "),console.log(this.$auth.user),this.$store.dispatch("getProfile")},async logout(){this.$store.dispatch("resetBearer"),await this.$auth.logout({returnTo:window.location.origin})}},data(){return{}}},m=u,p=(s("b1c4"),s("2877")),h=Object(p["a"])(m,i,o,!1,null,"534e4b27",null),v=h.exports,f={name:"App",async beforeCreate(){await Object(d["c"])(),this.$auth.isAuthenticated&&(this.$store.dispatch("setBearer",this.$auth.bearer),this.$store.dispatch("getProfile"))},components:{Navbar:v}},g=f,b=Object(p["a"])(g,r,n,!1,null,null,null),_=b.exports,C=s("8c4f"),y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container home bg-secondary"},[a("div",{staticClass:"row heading-row"},[a("img",{attrs:{alt:"Champions logo",src:s("cf05")}}),a("h1",{staticClass:"col-12 text-center text-success"},[t._v("Welcome to the CMA Tracker")]),t.profile.email?t._e():a("h3",{staticClass:"col-12 text-center text-success"},[t._v("Login to submit your students points.")]),t.error.length>0?a("div",{staticClass:"alert alert-dismissible alert-warning"},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:t.resetError}},[t._v("×")]),a("strong",[t._v("Warning!")]),t._v(" "+t._s(this.error)+" ")]):t._e()]),a("div",{staticClass:"row p-3"},[a("div",{staticClass:"col-md-6 col-sm-12 text-secondary bg-white rounded p-3"},[a("div",{staticClass:"row text-center p-0"},[t._m(0),a("p",{staticClass:"text-center col-12"},[t._v("Can only be submitted once per date.")]),a("ul",{staticClass:"p-0 col-12"},t._l(t.tasks,(function(t){return a("daily-challenge",{key:t._id,attrs:{taskData:t}})})),1)]),a("div",{staticClass:"row text-center p-0 button-row"},[t.profile.email?a("button",{staticClass:"btn btn-success text-white mt-2 col-6",attrs:{type:"button","data-toggle":"modal","data-target":"#submitPointsModal"},on:{click:t.getStudents}},[t._v("Submit your student's points.")]):t._e()])]),a("div",{staticClass:"col-md-6 col-sm-12"},[this.challenges?a("h3",{staticClass:"col-12 title-row text-white text-center"},[a("u",[t._v("Black Belt Challenge")])]):t._e(),t._l(t.challenges,(function(t){return a("challenge",{key:t._id,attrs:{challengeData:t}})})),a("div",{staticClass:"modal fade",attrs:{id:"submitPointsModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(1),a("div",{staticClass:"modal-body"},[a("form",{attrs:{id:"pointsForm"},on:{submit:function(e){return e.preventDefault(),t.submitPoints(e)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"float-left",attrs:{for:"student"}},[t._v("Select student")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-select",attrs:{id:"studentSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.students,(function(e){return a("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.name))])})),0)]),a("div",{staticClass:"form-group"},[a("datepicker",{attrs:{placeholder:"Select Date",format:t.format},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),a("div",{staticClass:"check-boxes"},t._l(t.tasks,(function(e){return a("div",{key:e._id,staticClass:"form-group form-check float-left"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.total,expression:"total"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:e._id},domProps:{value:e._id,checked:Array.isArray(t.total)?t._i(t.total,e._id)>-1:t.total},on:{change:function(s){var a=t.total,r=s.target,n=!!r.checked;if(Array.isArray(a)){var i=e._id,o=t._i(a,i);r.checked?o<0&&(t.total=a.concat([i])):o>-1&&(t.total=a.slice(0,o).concat(a.slice(o+1)))}else t.total=n}}}),a("label",{staticClass:"form-check-label",attrs:{for:"exampleCheck1"}},[t._v(" "+t._s(e.name)+" "),a("span",{staticClass:"text-warning"},[t._v("("+t._s(e.point)+" points)")])])])})),0),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])]),t._m(2)])])]),t.profile.email?a("div",{staticClass:"row text-center p-0 button-row"},[a("router-link",{staticClass:"col-6",attrs:{to:{name:"Dashboard"}}},[a("button",{staticClass:"btn btn-lg btn-outline-success text-white mt-2"},[t._v("Check your student(s) points.")])])],1):t._e()],2)])])},w=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h3",{staticClass:"col-12 title-row"},[s("u",[t._v("Daily Activities:")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"exampleModalCenterTitle"}},[t._v("Submit your student's points.")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",[a("blockquote",{staticClass:"blockquote"},[a("p",{staticClass:"mb-0"},[a("img",{staticClass:"icon",attrs:{src:s("1bd5")}}),t._v(" "+t._s(t.taskData.name)+" "),t.taskData.link?a("a",{staticClass:"mx-1",attrs:{href:t.taskData.link,target:"_blank"}},[a("i",{staticClass:"fas fa-external-link-alt"})]):t._e(),a("span",{staticClass:"text-warning"},[t._v("("+t._s(t.taskData.point)+" points)")]),"Admin"==t.$route.name?a("button",{staticClass:"btn btn-sm btn-danger m-1",on:{click:function(e){return t.deleteTask(t.taskData._id)}}},[t._v("delete")]):t._e()]),t.taskData.description?a("footer",{staticClass:"blockquote-footer"},[t._v(t._s(t.taskData.description))]):t._e()])])},x=[],S=s("ac68"),P=s.n(S),z={name:"Task",props:["taskData"],methods:{deleteTask(t){P.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.value&&(P.a.fire("Deleted!","Task has been deleted.","success"),this.$store.dispatch("deleteTaskById",t))})}}},A=z,D=(s("6a09"),Object(p["a"])(A,k,x,!1,null,"a0a57b30",null)),T=D.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card text-white bg-success mb-3"},[a("div",{staticClass:"card-header header-row"},[a("img",{staticClass:"icon",attrs:{src:s("967a")}}),a("h3",{staticClass:"pl-2"},[a("strong",[t._v(t._s(t.challengeData.name))])]),t.challengeData.link?a("a",{staticClass:"mx-1",attrs:{href:t.challengeData.link,target:"_blank"}},[a("i",{staticClass:"fas fa-external-link-alt"})]):t._e()]),a("div",{staticClass:"card-body"},[a("h4",{staticClass:"card-title text-center"},[t._v("Earn "+t._s(t.challengeData.point)+" points!")]),a("p",{staticClass:"card-text text-center"},[t._v(t._s(t.challengeData.description))]),a("div",{staticClass:"row text-center p-0 button-row"},["Admin"==t.$route.name?a("button",{staticClass:"btn btn-sm btn-danger m-1",on:{click:function(e){return t.deleteChallenge(t.challengeData._id)}}},[t._v("delete")]):t._e(),t.profile.email&&"Admin"!=t.$route.name?a("button",{staticClass:"btn btn-outline-secondary mt-2 col-6",attrs:{type:"button","data-toggle":"modal","data-target":"#modal"+t.challengeData._id},on:{click:t.getStudents}},[t._v("Submit your student's challenge.")]):t._e()])]),a("div",{staticClass:"modal fade",attrs:{id:"modal"+t.challengeData._id,tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[a("form",{attrs:{id:"pointsForm"},on:{submit:function(e){return e.preventDefault(),t.submitChallenge(t.challengeData)}}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"float-left text-secondary",attrs:{for:"student"}},[t._v("Select student")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-select",attrs:{id:"studentSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.students,(function(e){return a("option",{key:e._id,domProps:{value:e}},[t._v(t._s(e.name))])})),0)]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])])]),t._m(1)])])])])},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title text-secondary",attrs:{id:"exampleModalCenterTitle"}},[t._v("Submit your student's challenge!")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")])])}],B={name:"Challenge",props:["challengeData"],methods:{getStudents(){this.$store.dispatch("getStudentsByProfileId")},submitChallenge(t){let e=t.point,s=t._id,a=t.name,r={id:this.selected._id,points:1*e,challengeId:s,challengeName:a};this.$store.dispatch("addChallenge",r);let n=event.target;n.reset(),$("#modal"+this.challengeData._id).modal("toggle")},deleteChallenge(t){P.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.value&&(P.a.fire("Deleted!","Challenge has been deleted.","success"),this.$store.dispatch("deleteChallengeById",t))})}},computed:{students(){return this.$store.state.students},profile(){return this.$store.state.profile}},data(){return{selected:""}}},R=B,E=(s("03fa"),Object(p["a"])(R,F,I,!1,null,"d5485f68",null)),N=E.exports,O=s("77f7"),j={name:"home",data(){return{selected:"",total:[],date:"",format:"MM dd yyyy"}},mounted(){this.$store.dispatch("getAllTasks"),this.$store.dispatch("getAllChallenges")},computed:{tasks(){return this.$store.state.tasks},challenges(){return this.$store.state.challenges},students(){return this.$store.state.students},profile(){return this.$store.state.profile},error(){return this.$store.state.error}},methods:{submitPoints(){let t=0;for(let r=0;r<this.total.length;r++){let e=this.total[r],s=this.tasks.find(t=>t._id==e),a=s.point;t+=a}let e=this.date.toLocaleDateString(),s={id:this.selected._id,points:t,date:e};console.log(s),this.$store.dispatch("addPoints",s);let a=event.target;a.reset(),$("#submitPointsModal").modal("toggle")},getStudents(){this.$store.dispatch("getStudentsByProfileId")},resetError(){this.$store.dispatch("resetError")}},components:{DailyChallenge:T,Challenge:N,Datepicker:O["a"]}},M=j,q=(s("9ec4"),Object(p["a"])(M,y,w,!1,null,"75bdce74",null)),Y=q.exports,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid page"},[s("div",{staticClass:"row text-center bg-black text-success"},[s("h1",{staticClass:"col-12"},[t._v("Welcome Admin "+t._s(t.profile.name))]),t._m(0)]),s("div",{staticClass:"row button-row bg-black p-3"},[s("button",{staticClass:"btn btn-outline-success my-2",on:{click:function(e){t.studentsShow=!0,t.challengesShow=!1,t.tasksShow=!1,t.prizesShow=!1,t.redeamedsShow=!1,t.taskForm=!1,t.challengeForm=!1,t.prizeForm=!1,t.profileShow=!1}}},[t._v("Students")]),s("button",{staticClass:"btn btn-outline-success my-2",on:{click:function(e){t.profileShow=!0,t.challengesShow=!1,t.tasksShow=!1,t.prizesShow=!1,t.redeamedsShow=!1,t.taskForm=!1,t.challengeForm=!1,t.prizeForm=!1,t.studentsShow=!1}}},[t._v("Profiles")]),s("button",{staticClass:"btn btn-outline-primary my-2",on:{click:function(e){t.challengesShow=!0,t.studentsShow=!1,t.tasksShow=!1,t.prizesShow=!1,t.redeamedsShow=!1,t.taskForm=!1,t.challengeForm=!1,t.prizeForm=!1,t.profileShow=!1}}},[t._v("Challenges")]),s("button",{staticClass:"btn btn-outline-warning my-2",on:{click:function(e){t.tasksShow=!0,t.studentsShow=!1,t.challengesShow=!1,t.prizesShow=!1,t.redeamedsShow=!1,t.taskForm=!1,t.challengeForm=!1,t.prizeForm=!1,t.profileShow=!1}}},[t._v("Tasks")]),s("button",{staticClass:"btn btn-outline-info my-2",on:{click:function(e){t.prizesShow=!0,t.studentsShow=!1,t.challengesShow=!1,t.tasksShow=!1,t.redeamedsShow=!1,t.taskForm=!1,t.challengeForm=!1,t.prizeForm=!1,t.profileShow=!1}}},[t._v("Prizes")]),s("button",{staticClass:"btn btn-outline-danger my-2",on:{click:function(e){t.redeamedsShow=!0,t.studentsShow=!1,t.challengesShow=!1,t.tasksShow=!1,t.prizesShow=!1,t.taskForm=!1,t.challengeForm=!1,t.prizeForm=!1,t.profileShow=!1}}},[t._v("Redeemed Prizes")])]),t.challengesShow?s("div",{staticClass:"row pt-4 bg-dark"},[s("div",{staticClass:"col-12 text-center pb-4"},[t.challengeForm?t._e():s("button",{staticClass:"btn btn-primary m-1",on:{click:function(e){t.challengeForm=!t.challengeForm}}},[t._v("Add New Challenge")]),t.challengeForm?s("button",{staticClass:"btn btn-warning m-1",on:{click:function(e){t.challengeForm=!t.challengeForm}}},[t._v("Cancel")]):t._e()]),t.challengeForm?s("challenge-form"):t._e(),s("div",{staticClass:"main-row col-12"},t._l(t.challenges,(function(t){return s("challenge",{key:t._id,staticClass:"col-md-5 col-sm-12",attrs:{challengeData:t}})})),1)],1):t._e(),t.studentsShow?s("div",{staticClass:"row main-row pt-4 bg-dark"},[s("div",{staticClass:"col-12 text-center"},[t.sorted?s("button",{staticClass:"btn btn-primary my-2 float-left",on:{click:t.sortByPoints}},[t._v("Sort by Points")]):t._e(),t.sorted?t._e():s("button",{staticClass:"btn btn-primary my-2 float-left",on:{click:t.sortByName}},[t._v("Sort by Name")]),s("h3",{staticClass:"text-white my-1 pr-5"},[t._v("Students:")])]),t._l(t.students,(function(t){return s("student",{key:t._id,staticClass:"col-12",attrs:{studentData:t}})}))],2):t._e(),t.profileShow?s("div",{staticClass:"row main-row pt-4 bg-dark"},t._l(t.profiles,(function(t){return s("profile",{key:t._id,attrs:{profileData:t}})})),1):t._e(),t.tasksShow?s("div",{staticClass:"row pt-4 bg-success"},[s("div",{staticClass:"col-12 text-center pb-4"},[t.taskForm?t._e():s("button",{staticClass:"btn btn-primary m-1",on:{click:function(e){t.taskForm=!t.taskForm}}},[t._v("Add New Daily Task")]),t.taskForm?s("button",{staticClass:"btn btn-warning m-1",on:{click:function(e){t.taskForm=!t.taskForm}}},[t._v("Cancel")]):t._e()]),t.taskForm?s("task-form"):t._e(),s("div",{staticClass:"main-row col-12"},[s("ul",{staticClass:"p-3 col-md-8 col-sm-12 bg-light m-2"},t._l(t.tasks,(function(t){return s("task",{key:t._id,attrs:{taskData:t}})})),1)])],1):t._e(),t.redeamedsShow?s("div",{staticClass:"row main-row pt-4 bg-success"},t._l(t.redeameds,(function(t){return s("redeamed",{key:t._id,attrs:{redeamedData:t}})})),1):t._e(),t.prizesShow?s("div",{staticClass:"row pt-4 bg-dark"},[s("div",{staticClass:"col-12 text-center pb-4"},[t.prizeForm?t._e():s("button",{staticClass:"btn btn-primary m-1",on:{click:function(e){t.prizeForm=!t.prizeForm}}},[t._v("Add New Prize")]),t.prizeForm?s("button",{staticClass:"btn btn-warning m-1",on:{click:function(e){t.prizeForm=!t.prizeForm}}},[t._v("Cancel")]):t._e()]),t.prizeForm?s("prize-form"):t._e(),s("div",{staticClass:"main-row col-12"},t._l(t.prizes,(function(t){return s("prize",{key:t._id,attrs:{prizeData:t}})})),1)],1):t._e()])},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 bg-black text-white text-center"},[s("h3",[t._v("Please make a selection.")])])}],U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["Admin"==t.$route.name?a("div",{staticClass:"student-detail bg-light border border-dark"},[a("h5",{staticClass:"p-2 m-0"},[t._v(t._s(t.studentData.name)+" - Total Points: "+t._s(t.studentData.points)+" - Completed Days: "+t._s(t.studentData.date.length.toString())+" - Completed Challenges: "+t._s(t.studentData.challengeName.length.toString()))]),a("div",{staticClass:"py-2"},[a("button",{staticClass:"btn btn-sm btn-danger m-1",on:{click:function(e){return t.deleteStudent(t.studentData._id)}}},[t._v("delete")]),a("button",{staticClass:"btn btn-sm btn-success m-1",attrs:{type:"button","data-toggle":"collapse","data-target":"#pointsChange"+t.studentData._id}},[t._v("Add/Remove points")])]),a("div",{staticClass:"card-text bg-success p-2 text-center collapse mt-1",attrs:{id:"pointsChange"+t.studentData._id}},[a("form",{attrs:{action:"",id:"pointsForm"}},[a("label",{staticClass:"pr-2",attrs:{for:"points"}},[t._v("Points to add:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],attrs:{type:"number",name:"points",id:"points"},domProps:{value:t.selected},on:{input:function(e){e.target.composing||(t.selected=e.target.value)}}}),a("small",{staticClass:"form-text",attrs:{id:"Help"}},[t._v("To remove points set negative number.")]),"Admin"==t.$route.name?a("button",{staticClass:"btn btn-sm btn-secondary m-1",on:{click:function(e){return e.preventDefault(),t.addPointsAdmin(t.studentData._id)}}},[t._v("Save")]):t._e()])])]):t._e(),"Admin"!=t.$route.name?a("div",{staticClass:"student-card card mb-3"},[a("div",{staticClass:"card-header h3 bg-light text-dark"},[a("h3",[a("img",{staticClass:"image mr-4",attrs:{src:s("19a4")}}),a("strong",[t._v(t._s(t.studentData.name))])])]),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title"},[a("strong",{staticClass:"text-success"},[t._v("Total Points:")]),t._v(" "+t._s(t.studentData.points)+" ")]),a("h5",{staticClass:"card-text"},[a("strong",{staticClass:"text-success"},[t._v("Completed Days:")]),t._v(" "+t._s(t.studentData.date.length.toString())+" ")]),a("h6",{staticClass:"card-text"},[a("strong",{staticClass:"text-success"},[t._v("Completed Challenges:")]),t._v(" "+t._s(t.studentData.challengeName.length.toString())+" ")])])]):t._e()])},W=[],J={name:"Student",props:["studentData"],components:{},data(){return{selected:0}},methods:{deleteStudent(t){P.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.value&&(P.a.fire("Deleted!","Student has been deleted.","success"),this.$store.dispatch("deleteStudentById",t))})},addPointsAdmin(t){let e={id:t,points:this.selected};this.$store.dispatch("addPointsAdmin",e),$("#pointsChange"+t).collapse("hide"),this.selected=0}}},G=J,V=(s("dd60"),Object(p["a"])(G,U,W,!1,null,"a0112edc",null)),X=V.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card m-1 col-md-3 col-sm-12 bg-light border border-success card-content"},[s("div",{staticClass:"card-body text-success text-center"},[s("h3",{staticClass:"card-title"},[s("strong",[t._v(t._s(t.prizeData.name))])]),s("p",{staticClass:"card-text"},[t._v(t._s(t.prizeData.description))]),s("p",{staticClass:"card-text text-warning"},[t._v(" Cost: "+t._s(t.prizeData.price)+" points "),0==t.prizeData.active?s("span",{staticClass:"text-danger mx-2 p-1 border border-danger"},[s("strong",[t._v("Inactive")])]):t._e()]),t.prizeData.price<t.activeStudent.points?s("button",{staticClass:"btn btn-sm btn-success",on:{click:function(e){return t.buyPrize(t.prizeData)}}},[t._v("Redeem Points for this Prize")]):t._e(),s("div",{staticClass:"buttonRow row"},["Admin"==t.$route.name&&t.prizeData.active?s("button",{staticClass:"btn btn-sm btn-danger m-1",on:{click:function(e){return t.deletePrize(t.prizeData._id)}}},[t._v("Make Unavailable")]):t._e(),"Admin"!=t.$route.name||t.prizeData.active?t._e():s("button",{staticClass:"btn btn-sm btn-success m-1",on:{click:function(e){return t.activatePrize(t.prizeData._id)}}},[t._v("Make Available")])])])])},Q=[],Z={name:"Prize",props:["prizeData"],data(){return{todaysDate:`${(new Date).toJSON().slice(0,10).replace(/-/g,"/").split("/").reverse().join("/")}`}},methods:{buyPrize(t){P.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Use my points!"}).then(e=>{if(e.value)if(t.instructorId){let e={studentId:this.activeStudent._id,studentName:this.activeStudent.name,points:t.price,prizeId:t._id,prizeName:t.name,instructorId:t.instructorId,date:this.todaysDate};P.a.fire("Redeemed!","Points have been redeemed.","success"),this.$store.dispatch("spendPoints",e),this.$store.dispatch("createRedeamed",e)}else{let e={studentId:this.activeStudent._id,points:t.price,prizeName:t.name,studentName:this.activeStudent.name,prizeId:t._id,instructorId:"5e7ff8cd59b18b366c1fc058",date:this.todaysDate};P.a.fire("Redeemed!","Points have been redeemed.","success"),this.$store.dispatch("spendPoints",e),this.$store.dispatch("createRedeamed",e)}})},deletePrize(t){this.$store.dispatch("deletePrizeById",t)},activatePrize(t){let e={id:t,body:{active:!0}};this.$store.dispatch("editPrize",e)}},computed:{activeStudent(){return this.$store.state.activeStudent}}},tt=Z,et=(s("08f1"),Object(p["a"])(tt,K,Q,!1,null,"37f7f66c",null)),st=et.exports,at=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card m-2"},[s("div",{staticClass:"card-body bg-dark text-success text-center"},[s("h4",{staticClass:"card-title"},[t._v("Student: "+t._s(t.redeamedData.studentName))]),s("h5",{staticClass:"card-title"},[t._v(t._s(t.redeamedData.prizeName))]),t.redeamedData.complete?t._e():s("button",{staticClass:"btn btn-sm btn-success",on:{click:function(e){return t.completeRedeamed(t.redeamedData._id)}}},[t._v("Mark Complete")]),t.redeamedData.complete?s("p",[t._v("Marked Completed by "+t._s(t.redeamedData.completedBy))]):t._e()])])},rt=[],nt={name:"Redeamed",props:["redeamedData"],methods:{completeRedeamed(t){P.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, Mark Complete!"}).then(e=>{e.value&&(P.a.fire("Success!","Prize has been marked redeamed.","success"),this.$store.dispatch("completeRedeamed",t))})}}},it=nt,ot=Object(p["a"])(it,at,rt,!1,null,null,null),lt=ot.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.taskForm?s("div",{staticClass:"col-12 pb-4"},[s("form",{staticClass:"bg-light p-3",on:{submit:function(e){return e.preventDefault(),t.createTask(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Task Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.name,expression:"newTask.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"Enter task name...",required:""},domProps:{value:t.newTask.name},on:{input:function(e){e.target.composing||t.$set(t.newTask,"name",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"Help"}},[t._v("Required")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description"}},[t._v("Task Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.description,expression:"newTask.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"description",placeholder:"Enter a description if needed..."},domProps:{value:t.newTask.description},on:{input:function(e){e.target.composing||t.$set(t.newTask,"description",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"point"}},[t._v("Task point value")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.point,expression:"newTask.point"}],staticClass:"form-control",attrs:{type:"number",name:"point",id:"point",placeholder:"Enter value...",required:""},domProps:{value:t.newTask.point},on:{input:function(e){e.target.composing||t.$set(t.newTask,"point",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"Help"}},[t._v("Required")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"link"}},[t._v("Link")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newTask.link,expression:"newTask.link"}],staticClass:"form-control",attrs:{type:"text",name:"link",id:"link",placeholder:"Enter a link if needed..."},domProps:{value:t.newTask.link},on:{input:function(e){e.target.composing||t.$set(t.newTask,"link",e.target.value)}}})]),s("button",{staticClass:"btn btn-sm btn-success"},[t._v("Add")])])]):t._e()},dt=[],ut={name:"TaskForm",props:[],methods:{createTask(){this.$store.dispatch("createTask",this.newTask),this.taskForm=!1}},data(){return{newTask:{},taskForm:!0}}},mt=ut,pt=Object(p["a"])(mt,ct,dt,!1,null,null,null),ht=pt.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.challengeForm?s("div",{staticClass:"col-12 pb-4"},[s("form",{staticClass:"bg-light p-3",on:{submit:function(e){return e.preventDefault(),t.createChallenge(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Challenge Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newChallenge.name,expression:"newChallenge.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"Enter challenge name...",required:""},domProps:{value:t.newChallenge.name},on:{input:function(e){e.target.composing||t.$set(t.newChallenge,"name",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"Help"}},[t._v("Required")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description"}},[t._v("Challenge Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newChallenge.description,expression:"newChallenge.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"description",placeholder:"Enter a description if needed..."},domProps:{value:t.newChallenge.description},on:{input:function(e){e.target.composing||t.$set(t.newChallenge,"description",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"point"}},[t._v("Challenge point value")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newChallenge.point,expression:"newChallenge.point"}],staticClass:"form-control",attrs:{type:"number",name:"point",id:"point",placeholder:"Enter value...",required:""},domProps:{value:t.newChallenge.point},on:{input:function(e){e.target.composing||t.$set(t.newChallenge,"point",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"Help"}},[t._v("Required")])]),s("button",{staticClass:"btn btn-sm btn-success"},[t._v("Add")])])]):t._e()},ft=[],gt={name:"ChallengeForm",props:[],methods:{createChallenge(){this.$store.dispatch("createChallenge",this.newChallenge),this.challengeForm=!1}},data(){return{newChallenge:{},challengeForm:!0}}},bt=gt,_t=Object(p["a"])(bt,vt,ft,!1,null,null,null),Ct=_t.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.prizeForm?s("div",{staticClass:"col-12 pb-4"},[s("form",{staticClass:"bg-light p-3",on:{submit:function(e){return e.preventDefault(),t.createPrize(e)}}},[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"name"}},[t._v("Prize Name")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPrize.name,expression:"newPrize.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"name",placeholder:"Enter prize name...",required:""},domProps:{value:t.newPrize.name},on:{input:function(e){e.target.composing||t.$set(t.newPrize,"name",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"Help"}},[t._v("Required")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"description"}},[t._v("Prize Description")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPrize.description,expression:"newPrize.description"}],staticClass:"form-control",attrs:{type:"text",name:"description",id:"description",placeholder:"Enter a description if needed..."},domProps:{value:t.newPrize.description},on:{input:function(e){e.target.composing||t.$set(t.newPrize,"description",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"point"}},[t._v("Prize price")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPrize.price,expression:"newPrize.price"}],staticClass:"form-control",attrs:{type:"number",name:"price",id:"price",placeholder:"Enter price...",required:""},domProps:{value:t.newPrize.price},on:{input:function(e){e.target.composing||t.$set(t.newPrize,"price",e.target.value)}}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"Help"}},[t._v("Required")])]),s("div",{staticClass:"form-group"},[s("label",{staticClass:"float-left",attrs:{for:"instructor"}},[t._v("Select Type")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],staticClass:"custom-select",attrs:{id:"instructorSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.type=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"swag"}},[t._v("Swag")]),s("option",{attrs:{value:"private lesson"}},[t._v("Private Lesson")]),s("option",{attrs:{value:"other"}},[t._v("Other")])])]),t.instructors?s("div",{staticClass:"form-group"},[s("label",{staticClass:"float-left",attrs:{for:"instructor"}},[t._v("Select Instructor")]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"custom-select",attrs:{id:"instructorSelect"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selected=e.target.multiple?s:s[0]}}},t._l(t.instructors,(function(e){return s("option",{key:e._id,domProps:{value:e._id}},[t._v(t._s(e.name))])})),0)]):t._e(),s("button",{staticClass:"btn btn-sm btn-success"},[t._v("Add")])])]):t._e()},wt=[],kt={name:"PrizeForm",props:[],mounted(){this.findInstructors(this.$store.state.profiles)},methods:{createPrize(){let t={name:this.newPrize.name,description:this.newPrize.description,price:this.newPrize.price,type:this.type,instructorId:this.selected};this.$store.dispatch("createPrize",t),this.prizeForm=!1},findInstructors(t){for(let e=0;e<t.length;e++){let s=t[e];s.instructor&&this.instructors.push(s)}}},data(){return{newPrize:{},selected:"",instructors:[],type:"",prizeForm:!0}},computed:{profiles(){return this.$store.state.profiles}}},xt=kt,St=Object(p["a"])(xt,yt,wt,!1,null,null,null),Pt=St.exports,$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card col-10 m-2"},[s("div",{staticClass:"card-header"},[t._v(t._s(t.profileData.name))]),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[t._v(t._s(t.profileData.email))]),s("p",{staticClass:"card-text"},[t._v(" Students: "),t._l(t.students,(function(e){return s("span",{key:e.name,staticClass:"mx-1"},[t._v(t._s(e.name)+",")])}))],2),s("p",{staticClass:"card-text text-warning"},[t.profileData.instructor&&t.profileData.admin?s("span",[t._v("Admin - Instructor")]):t.profileData.admin?s("span",[t._v("Admin")]):t.profileData.instructor?s("span",[t._v("Instructor")]):t._e()]),s("p",{staticClass:"card-text text-warning"},[t.profileData.admin?t._e():s("button",{staticClass:"btn btn-sm btn-primary mx-1",on:{click:function(e){return t.changeAdmin(t.profileData._id,!0,t.profileData.instructor)}}},[t._v("Mark as Admin")]),t.profileData.instructor?t._e():s("button",{staticClass:"btn btn-sm btn-primary mx-1",on:{click:function(e){return t.changeInstructor(t.profileData._id,!0,t.profileData.admin)}}},[t._v("Mark as Instructor")]),t.profileData.admin?s("button",{staticClass:"btn btn-sm btn-danger mx-1",on:{click:function(e){return t.changeAdmin(t.profileData._id,!1,t.profileData.instructor)}}},[t._v("Remove Admin")]):t._e(),t.profileData.instructor?s("button",{staticClass:"btn btn-sm btn-danger mx-1",on:{click:function(e){return t.changeInstructor(t.profileData._id,!1,t.profileData.admin)}}},[t._v("Remove Instructor")]):t._e()])])])},zt=[],At={name:"Profile",props:["profileData"],mounted(){this.findStudents(this.$store.state.students)},components:{},computed:{},methods:{findStudents(t){for(let e=0;e<t.length;e++){let s=t[e];s.profileEmail==this.profileData.email&&this.students.push(s)}},changeAdmin(t,e,s){let a={profileId:t,admin:e,instructor:s};this.$store.dispatch("updateProfilePermissions",a)},changeInstructor(t,e,s){let a={profileId:t,instructor:e,admin:s};this.$store.dispatch("updateProfilePermissions",a)}},data(){return{students:[]}}},Dt=At,Tt=Object(p["a"])(Dt,$t,zt,!1,null,"708b1842",null),Ft=Tt.exports,It={name:"Admin",mounted(){this.$store.dispatch("getAllStudents"),this.$store.dispatch("getAllPrizes"),this.$store.dispatch("getAllRedeameds"),this.$store.dispatch("getAllTasks"),this.$store.dispatch("getAllChallenges"),this.$store.dispatch("getAllProfiles"),this.$store.dispatch("setActiveStudent",{})},computed:{profile(){return this.$store.state.profile},students(){return this.$store.state.students},prizes(){return this.$store.state.prizes},redeameds(){return this.$store.state.redeameds},challenges(){return this.$store.state.challenges},tasks(){return this.$store.state.tasks},profiles(){return this.$store.state.profiles}},data(){return{redeamedsShow:!1,studentsShow:!0,challengesShow:!1,tasksShow:!1,prizesShow:!1,challengeForm:!1,taskForm:!1,prizeForm:!1,profileShow:!1,sorted:!0}},methods:{sortByName(){let t=this.students.sort((t,e)=>t.name>e.name?1:-1);this.students=t,this.sorted=!0},sortByPoints(){let t=this.students.sort((t,e)=>t.points<e.points?1:-1);this.students=t,this.sorted=!1}},components:{Student:X,Prize:st,Redeamed:lt,Challenge:N,Task:T,TaskForm:ht,ChallengeForm:Ct,PrizeForm:Pt,Profile:Ft}},Bt=It,Rt=(s("94e6"),Object(p["a"])(Bt,H,L,!1,null,"73be4714",null)),Et=Rt.exports,Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid bg-success page"},[s("div",{staticClass:"about text-center row pic-row bg-pic"},[t.profile.name?s("h1",{staticClass:"text-success col-12 px-0 py-1 bg-ltgray m-0"},[s("strong",[t._v("Welcome "+t._s(t.profile.name))])]):t._e(),t.profile.name?s("button",{staticClass:"col-12 btn btn-block btn-secondary",attrs:{type:"button","data-toggle":"collapse","data-target":"#nameFormDiv"}},[t._v("Update your name.")]):t._e(),s("div",{staticClass:"col-12 bg-secondary text-light p-2 text-center collapse p-1",attrs:{id:"nameFormDiv"}},[s("form",{attrs:{action:"",id:"nameForm"}},[s("label",{staticClass:"px-2",attrs:{for:"name"}},[t._v("Name:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"px-2",attrs:{type:"text",name:"name",id:"name"},domProps:{value:t.selected},on:{input:function(e){e.target.composing||(t.selected=e.target.value)}}}),s("button",{staticClass:"btn btn-sm btn-success mb-1 mx-1",on:{click:function(e){return e.preventDefault(),t.updateName()}}},[t._v("Save")])])])]),s("div",{staticClass:"row main-row"},[s("div",{staticClass:"col-sm-12 col-md-5 mx-2 student-section"},[s("div",{staticClass:"text-center title-row row mt-2"},[s("button",{staticClass:"btn btn-success text-dark",on:{click:function(e){t.studentForm=!t.studentForm}}},[s("i",{staticClass:"fas fa-user-plus h4"})]),s("h1",{staticClass:"text-secondary text-center ml-5"},[t._v("Your Students:")])]),s("div",{staticClass:"row student-row"},[s("div",{staticClass:"student-card card border-success mb-3"},[t.studentForm?s("div",{staticClass:"card-header h3 bg-dark text-success"},[s("form",{on:{submit:function(e){return e.preventDefault(),t.addStudent(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newStudent.name,expression:"newStudent.name"}],attrs:{type:"text",name:"name",id:"name",placeholder:"Enter students name...",required:""},domProps:{value:t.newStudent.name},on:{input:function(e){e.target.composing||t.$set(t.newStudent,"name",e.target.value)}}}),s("button",{staticClass:"btn btn-sm btn-success ml-3"},[t._v("Add")])])]):t._e()]),t._l(t.students,(function(t){return s("student",{key:t._id,staticClass:"col-12",attrs:{studentData:t}})}))],2)]),s("div",{staticClass:"col-sm-12 col-md-5 redeamed-row"},[s("div",{staticClass:"shop-row row"},[s("router-link",{attrs:{to:{name:"Store"}}},[s("button",{staticClass:"btn btn-lg btn-outline-secondary mt-2"},[t._v(" Prize Store "),s("i",{staticClass:"fas fa-store"})])])],1),this.redeameds?s("h1",{staticClass:"text-secondary text-center mt-2"},[t._v("Your Prizes:")]):t._e(),t._l(t.redeameds,(function(t){return s("redeamed",{key:t._id,attrs:{redeamedData:t}})}))],2)])])},Ot=[],jt={name:"Dashboard",mounted(){this.$store.dispatch("getStudentsByProfileId"),this.$store.dispatch("getRedeamedsByProfileId")},data(){return{studentForm:!1,newStudent:{name:""},selected:""}},computed:{profile(){return this.$store.state.profile},students(){return this.$store.state.students},redeameds(){return this.$store.state.redeameds}},components:{Student:X,Redeamed:lt},methods:{addStudent(){this.$store.dispatch("createStudent",this.newStudent),this.studentForm=!1},updateName(){let t={profileId:this.profile._id,name:this.selected};this.$store.dispatch("updateProfile",t),$("#nameFormDiv").collapse("hide"),this.selected=""}}},Mt=jt,qt=(s("bd1d"),Object(p["a"])(Mt,Nt,Ot,!1,null,"59e8bf37",null)),Yt=qt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid bg-dark page"},[t._m(0),a("div",{staticClass:"row main-row"},[a("div",{staticClass:"col-sm-12 mx-2 student-section"},[a("div",{staticClass:"row student-row my-4"},t._l(t.students,(function(e){return a("div",{key:e._id,staticClass:"col-md-3 col-sm-6 m-1 p-0 student-card card border-success"},[t.activeStudent.name!=e.name?a("div",{staticClass:"card-header h3 bg-light text-dark text-center",on:{click:function(s){return t.setActiveStudent(e)}}},[a("h3",[a("img",{staticClass:"image mr-4",attrs:{src:s("19a4")}}),a("strong",[t._v(t._s(e.name))])])]):t._e(),t.activeStudent.name==e.name?a("div",{staticClass:"card-header h3 bg-success text-dark text-center"},[a("h3",[a("img",{staticClass:"image mr-4",attrs:{src:s("19a4")}}),a("strong",[t._v(t._s(e.name))])])]):t._e(),a("div",{staticClass:"card-body"},[a("h5",{staticClass:"card-title text-center"},[a("strong",{staticClass:"text-dark"},[t._v("Total Points:")]),t._v(" "+t._s(e.points)+" ")])])])})),0)]),a("div",{staticClass:"col-sm-12 mx-2 prize-section"},[t._m(1),a("div",{staticClass:"row prize-row my-4"},t._l(t.prizes,(function(t){return a("prize",{key:t._id,attrs:{prizeData:t}})})),1)])])])},Lt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about text-center row bg-success"},[s("h1",{staticClass:"text-white col-12 p-0 m-0"},[s("strong",[t._v("Welcome To The Prize Store!")])]),s("h3",{staticClass:"text-dark col-12 p-0 mb-1"},[s("strong",[t._v("Select a student to use their points.")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row bg-success p-2 text-white"},[s("h2",{staticClass:"col-12 text-center"},[s("strong",[t._v("Prizes:")])])])}],Ut={name:"Store",mounted(){this.$store.dispatch("getStudentsByProfileId"),this.$store.dispatch("getAllPrizes")},data(){return{studentForm:!1,newStudent:{name:""},activePrizes:[]}},computed:{profile(){return this.$store.state.profile},students(){return this.$store.state.students},prizes(){return this.$store.state.activePrizes},activeStudent(){return this.$store.state.activeStudent}},components:{Student:X,Prize:st},methods:{setActiveStudent(t){this.$store.dispatch("setActiveStudent",t)},getActivePrizes(t){for(let e=0;e<t.length;e++){let s=t[e];s.active&&this.activePrizes.push(s)}}}},Wt=Ut,Jt=(s("fcd1"),Object(p["a"])(Wt,Ht,Lt,!1,null,"5f6ae53b",null)),Gt=Jt.exports,Vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid page"},[s("div",{staticClass:"row text-center pic-row bg-pic text-white"},[s("h1",{staticClass:"col-12 m-0 p-2 bg-gray"},[t._v("Welcome Instructor "+t._s(t.profile.name))]),s("h5",{staticClass:"col-12 m-0 p-2 bg-gray"},[t._v("These are the redeamed prizes that are connected to you. Please mark them complete when completed.")])]),t.myRedeameds.length>0?s("div",{staticClass:"row main-row pt-4 bg-success"},t._l(t.myRedeameds,(function(t){return s("redeamed",{key:t._id,attrs:{redeamedData:t}})})),1):t._e(),0==t.myRedeameds.length?s("div",{staticClass:"row main-row pt-4 bg-success"}):t._e()])},Xt=[],Kt={name:"Instructor",mounted(){this.$store.dispatch("getAllRedeameds"),this.getMyRedeameds(this.$store.state.redeameds)},computed:{profile(){return this.$store.state.profile},redeameds(){return this.$store.state.redeameds}},data(){return{myRedeameds:[]}},components:{Redeamed:lt},methods:{getMyRedeameds(t){let e=this.profile._id;for(let s=0;s<t.length;s++){let a=t[s];a.instructorId==e&&this.myRedeameds.push(a)}}}},Qt=Kt,Zt=(s("fb81"),Object(p["a"])(Qt,Vt,Xt,!1,null,"8db38f26",null)),te=Zt.exports;a["a"].use(C["a"]);const ee=[{path:"/",name:"Home",component:Y},{path:"/admin",name:"Admin",component:Et,beforeEnter:d["b"]},{path:"/dashboard",name:"Dashboard",component:Yt,beforeEnter:d["b"]},{path:"/store",name:"Store",component:Gt,beforeEnter:d["b"]},{path:"/instructor",name:"Instructor",component:te,beforeEnter:d["b"]}],se=new C["a"]({routes:ee});var ae=se,re=s("2f62");let ne=location.host.includes("localhost")?"https://cma-tracker.herokuapp.com/":"/";const ie=c.a.create({baseURL:ne+"api",withCredentials:!0}),oe={actions:{async getAllPrizes({commit:t,dispatch:e}){try{let e=await ie.get("prizes");t("setPrizes",e.data),t("setActivePrizes",e.data)}catch(s){console.error(s)}},async getPrizeById({commit:t},e){try{let s=await ie.get("prizes/"+e);t("setActivePrize",s.data)}catch(s){console.error(s)}},setActivePrize({commit:t},e){t("setActivePrize",e)},async createPrize({commit:t,dispatch:e},s){try{await ie.post("prizes",s);e("getAllPrizes")}catch(a){console.error(a)}},async editPrize({commit:t,dispatch:e},s){try{await ie.put("prizes/"+s.id,s.body);e("getAllPrizes")}catch(a){console.error(a)}},async deletePrizeById({commit:t,dispatch:e},s){try{await ie.put("prizes/"+s+"/delete");e("getAllPrizes")}catch(a){console.error(a)}}}},le={actions:{async getAllStudents({commit:t}){try{let e=await ie.get("students");t("setStudents",e.data)}catch(e){console.error(e)}},async getStudentById({commit:t},e){try{let s=await ie.get("students/"+e);t("setActiveStudent",s.data)}catch(s){console.error(s)}},setActiveStudent({commit:t},e){t("setActiveStudent",e)},async createStudent({commit:t,dispatch:e},s){try{await ie.post("students",s);e("getStudentsByProfileId")}catch(a){console.error(a)}},async editStudent({commit:t,dispatch:e},s){try{await ie.put("students/"+s.id+"/edit",s.body);e(this.getAllStudents)}catch(a){console.error(a)}},async addPoints({commit:t,dispatch:e},s){try{let e=await ie.put("students/"+s.id,{points:s.points,date:s.date});if("No"==e.data){let e="You already added points for that date.";t("setError",e)}let a=s.id,r=e.data.points;t("updatePoints",{studentId:a,points:r})}catch(a){console.error(a)}},async addPointsAdmin({commit:t,dispatch:e},s){try{let e=await ie.put("students/"+s.id+"/adminPoints",{points:s.points}),a=s.id,r=e.data.points;t("updatePoints",{studentId:a,points:r})}catch(a){console.error(a)}},async addChallenge({commit:t,dispatch:e},s){try{let e=await ie.put("students/"+s.id+"/challenge",{points:s.points,challengeId:s.challengeId,challengeName:s.challengeName});if("No"==e.data){let e="You already completed that challenge.";t("setError",e)}}catch(a){console.error(a)}},async spendPoints({commit:t,dispatch:e},s){try{let e=await ie.put("students/"+s.studentId+"/spend",s),a=e.data.points,r=s.studentId;t("updatePoints",{studentId:r,points:a})}catch(a){console.error(a)}},async deleteStudentById({commit:t,dispatch:e},s){try{await ie.delete("students/"+s);t("deleteStudent",s)}catch(a){console.error(a)}},async deleteAllStudents({commit:t,dispatch:e},s){try{await ie.delete("students/");e(this.getAllStudents)}catch(a){console.error(a)}}}},ce={actions:{async getAllChallenges({commit:t}){try{let e=await ie.get("challenges");t("setChallenges",e.data)}catch(e){console.error(e)}},setActiveChallenge({commit:t},e){t("setActiveChallenge",e)},async getChallengeById({commit:t},e){try{let s=await ie.get("challenges/"+e);t("setActiveChallenge",s.data)}catch(s){console.error(s)}},async createChallenge({commit:t,dispatch:e},s){try{await ie.post("challenges",s);e("getAllChallenges")}catch(a){console.error(a)}},async editChallenge({commit:t,dispatch:e},s){try{await ie.put("challenges/"+s.id,s.body);e("getAllChallenges")}catch(a){console.error(a)}},async deleteChallengeById({commit:t,dispatch:e},s){try{await ie.delete("challenges/"+s);e("getAllChallenges")}catch(a){console.error(a)}}}},de={actions:{async getAllRedeameds({commit:t}){try{let e=await ie.get("redeameds");t("setRedeameds",e.data)}catch(e){console.error(e)}},async getRedeamedById({commit:t},e){try{let s=await ie.get("redeameds/"+e);t("setActiveRedeamed",s.data)}catch(s){console.error(s)}},setActiveRedeamed({commit:t},e){t("setActiveRedeamed",e)},async createRedeamed({commit:t,dispatch:e},s){try{let e=await ie.post("redeameds",s);t("addRedeamed",e.data)}catch(a){console.error(a)}},async editRedeamed({commit:t,dispatch:e},s){try{await ie.put("redeameds/"+s.id,s.body);e("getAllRedeameds")}catch(a){console.error(a)}},async completeRedeamed({commit:t,dispatch:e},s){try{let t={complete:!0};await ie.put("redeameds/"+s+"/complete",t);e("getAllRedeameds")}catch(a){console.error(a)}},async deleteById({commit:t,dispatch:e},s){try{await ie.delete("redeameds/"+s);t("deleteRedeamed",s)}catch(a){console.error(a)}}}},ue={actions:{async getAllTasks({commit:t}){try{let e=await ie.get("tasks");t("setTasks",e.data)}catch(e){console.error(e)}},setActiveTask({commit:t},e){t("setActiveTask",e)},async getTaskById({commit:t},e){try{let s=await ie.get("tasks/"+e);t("setActiveTask",s.data)}catch(s){console.error(s)}},async createTask({commit:t,dispatch:e},s){try{await ie.post("tasks",s);e("getAllTasks")}catch(a){console.error(a)}},async editTask({commit:t,dispatch:e},s){try{await ie.put("tasks/"+s.id,s.body);e("getAllTasks")}catch(a){console.error(a)}},async deleteTaskById({commit:t,dispatch:e},s){try{await ie.delete("tasks/"+s);e("getAllTasks")}catch(a){console.error(a)}}}};a["a"].use(re["a"]);var me=new re["a"].Store({state:{profile:{},profiles:[],students:[],activeStudent:{},challenges:[],activeChallenge:{},prizes:[],activePrize:{},activePrizes:[],redeameds:[],activeRedeameds:{},tasks:[],activeTask:{},error:""},mutations:{setProfile(t,e){t.profile=e},setProfiles(t,e){t.profiles=e.sort((t,e)=>t.name>e.name?1:-1)},setActiveStudent(t,e){t.activeStudent=e},setStudents(t,e){t.students=e.sort((t,e)=>t.name>e.name?1:-1)},deleteStudent(t,e){t.students=t.students.filter(t=>t._id!=e)},updatePoints(t,{studentId:e,points:s}){let a=t.students.find(t=>t._id==e);a.points=s},setChallenges(t,e){t.challenges=e},setPrizes(t,e){t.prizes=e},setActivePrize(t,e){t.activePrize=e},setActivePrizes(t,e){t.activePrizes=e.filter(t=>0!=t.active)},addPrize(t,e){t.prizes.push(e)},deletePrize(t,e){t.prizes.filter(t=>t._id!=e)},setRedeameds(t,e){t.redeameds=e},addRedeamed(t,e){t.redeameds.push(e)},deleteRedeamed(t,e){t.redeameds.filter(t=>t._id!=e)},setTasks(t,e){t.tasks=e},setActiveTask(t,e){t.activeTask=e},setError(t,e){t.error=e}},actions:{setBearer({},t){ie.defaults.headers.authorization=t},resetBearer(){ie.defaults.headers.authorization=""},async getProfile({commit:t}){try{let e=await ie.get("profile");t("setProfile",e.data)}catch(e){console.error(e)}},async getAllProfiles({commit:t}){try{let e=await ie.get("profile/all");t("setProfiles",e.data)}catch(e){console.error(e)}},async getStudentsByProfileId({commit:t}){try{let e=this.state.profile._id,s=await ie.get("profile/"+e+"/students");t("setStudents",s.data)}catch(e){console.error(e)}},async getRedeamedsByProfileId({commit:t}){try{let e=this.state.profile._id,s=await ie.get("profile/"+e+"/redeamed");t("setRedeameds",s.data)}catch(e){console.error(e)}},resetError({commit:t}){let e="";t("setError",e)},async updateProfilePermissions({commit:t,dispatch:e},s){try{await ie.put("profile/"+s.profileId+"/editPermissions",s);e("getAllProfiles")}catch(a){console.error(a)}},async updateProfile({commit:t,dispatch:e},s){try{let e=await ie.put("profile/"+s.profileId,s);t("setProfile",e.data)}catch(a){console.error(a)}}},modules:{challengeStore:ce,prizeStore:oe,redeamedStore:de,studentStore:le,taskStore:ue}});const pe="champions.auth0.com",he="https://CMA-tracker-server",ve="pr3VUnv3haft4zgrux8uN64nGyOn6yOX";a["a"].use(d["a"],{domain:pe,clientId:ve,audience:he,onRedirectCallback:t=>{ae.push(t&&t.targetUrl?t.targetUrl:window.location.pathname)}}),new a["a"]({router:ae,store:me,render:function(t){return t(_)}}).$mount("#app")},"6a09":function(t,e,s){"use strict";var a=s("0ab6"),r=s.n(a);r.a},"94e6":function(t,e,s){"use strict";var a=s("2285"),r=s.n(a);r.a},"967a":function(t,e,s){t.exports=s.p+"img/blackbelt.fffc5d4d.png"},"97cb":function(t,e,s){},"9ec4":function(t,e,s){"use strict";var a=s("1a53"),r=s.n(a);r.a},a870:function(t,e,s){t.exports=s.p+"img/ATALogo2.e5dc4c11.png"},aa49:function(t,e,s){},b1c4:function(t,e,s){"use strict";var a=s("e8f1"),r=s.n(a);r.a},bd1d:function(t,e,s){"use strict";var a=s("2c13"),r=s.n(a);r.a},cf05:function(t,e,s){t.exports=s.p+"img/logo.e859e013.png"},dd60:function(t,e,s){"use strict";var a=s("fce8"),r=s.n(a);r.a},e497:function(t,e,s){},e8f1:function(t,e,s){},eeae:function(t,e,s){},fb81:function(t,e,s){"use strict";var a=s("eeae"),r=s.n(a);r.a},fcd1:function(t,e,s){"use strict";var a=s("97cb"),r=s.n(a);r.a},fce8:function(t,e,s){}});